<blocks app="Snap! 7, https://snap.berkeley.edu" version="2"><palette><category name="Jetbot" color="255,184,5,1"/></palette><block-definition s="connect to Jetbot url %&apos;url&apos;" type="reporter" category="Jetbot"><header></header><code></code><translations></translations><inputs><input type="%s">ws://192.168.137.53:4040</input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>url</l></list><l>const socket = new WebSocket(url);&#xD;&#xD;socket.addEventListener(&apos;open&apos;, function (event) {&#xD;    //socket.send(&apos;Hello Jetson, Snap! here&apos;);&#xD;});&#xD;&#xD;socket.addEventListener(&apos;message&apos;, function (event) {&#xD;    socket.response = event.data;&#xD;    // console.log(&apos;Message from server &apos;, event.data);&#xD;});&#xD;return socket;</l></block><list><block var="url"/></list></block></block></script></block-definition><block-definition s="move %&apos;jetbot&apos; left" type="command" category="Jetbot"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>socket</l></list><l>socket.send("jetbotleft");</l></block><list><block var="jetbot"/></list></block></script></block-definition><block-definition s="stop %&apos;jetbot&apos;" type="command" category="Jetbot"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>socket</l></list><l>socket.send("stop");</l></block><list><block var="jetbot"/></list></block></script></block-definition><block-definition s="move %&apos;jetbot&apos; right" type="command" category="Jetbot"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>socket</l></list><l>socket.send("jetbotright");</l></block><list><block var="jetbot"/></list></block></script></block-definition><block-definition s="move %&apos;jetbot&apos; forward" type="command" category="Jetbot"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>socket</l></list><l>socket.send("jetbotforward");</l></block><list><block var="jetbot"/></list></block></script></block-definition><block-definition s="move %&apos;jetbot&apos; backward" type="command" category="Jetbot"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>socket</l></list><l>socket.send("jetbotbackward");</l></block><list><block var="jetbot"/></list></block></script></block-definition><block-definition s="start %&apos;jetbot&apos; camera" type="command" category="Jetbot"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>socket</l></list><l>socket.send("start_camera");</l></block><list><block var="jetbot"/></list></block></script></block-definition><block-definition s="stop %&apos;jetbot&apos; camera" type="command" category="Jetbot"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doRun"><block s="reportJSFunction"><list><l>socket</l></list><l>socket.send("stop_camera");</l></block><list><block var="jetbot"/></list></block></script></block-definition><block-definition s="%&apos;jetbot&apos; set motors %&apos;left&apos; %&apos;right&apos;" type="command" category="Jetbot"><header></header><code></code><translations></translations><inputs><input type="%s"></input><input type="%n"></input><input type="%n"></input></inputs><script><block s="doReport"><block s="evaluate"><block s="reportJSFunction"><list><l>socket</l><l>left</l><l>right</l></list><l>socket.send("setmotors "+left+" "+ +right);&#xD;return socket.response;</l></block><list><block var="jetbot"/><block var="left"/><block var="right"/></list></block></block></script></block-definition><block-definition s="follow object %&apos;object&apos;" type="command" category="Jetbot"><header></header><code></code><translations></translations><inputs><input type="%s"></input></inputs><script><block s="doDeclareVariables"><list><l>leftcoordinate</l><l>rightcoordinate</l><l>coordinates</l></list></block><block s="doSetVar"><l>coordinates</l><custom-block s="find left and right coordinate of object %s"><block var="object"/></custom-block></block><block s="doSetVar"><l>leftcoordinate</l><block s="reportListItem"><l>1</l><block var="coordinates"/></block></block><block s="doSetVar"><l>rightcoordinate</l><block s="reportListItem"><l>2</l><block var="coordinates"/></block></block><block s="doIfElse"><block s="reportLessThan"><block s="reportQuotient"><block s="reportVariadicSum"><list><block var="leftcoordinate"/><block var="rightcoordinate"/></list></block><l>2</l></block><l>-50</l></block><script><custom-block s="move %s left"><block var="jetbot"/></custom-block></script><script><block s="doIfElse"><block s="reportGreaterThan"><block s="reportQuotient"><block s="reportVariadicSum"><list><block var="rightcoordinate"/><block var="leftcoordinate"/></list></block><l>2</l></block><l>50</l></block><script><custom-block s="move %s right"><block var="jetbot"/></custom-block></script><script><block s="doIfElse"><block s="reportLessThan"><block s="reportDifference"><block var="rightcoordinate"/><block var="leftcoordinate"/></block><l>120</l></block><script><custom-block s="move %s forward"><block var="jetbot"/></custom-block></script><script><block s="doIfElse"><block s="reportGreaterThan"><block s="reportDifference"><block var="rightcoordinate"/><block var="leftcoordinate"/></block><l>180</l></block><script><custom-block s="move %s backward"><block var="jetbot"/></custom-block></script><script><custom-block s="stop %s"><block var="jetbot"/></custom-block></script></block></script></block></script></block></script></block></script></block-definition><block-definition s="control Jetbot" type="command" category="Jetbot"><header></header><code></code><translations></translations><inputs></inputs><script><block s="doDeclareVariables"><list><l>left</l><l>right</l></list></block><block s="doSetVar"><l>left</l><l>0</l></block><block s="doSetVar"><l>right</l><l>0</l></block><block s="doForever"><script><block s="doIf"><block s="reportKeyPressed"><l><option>up arrow</option></l></block><script><block s="doChangeVar"><l>left</l><l>1</l></block><block s="doChangeVar"><l>right</l><l>1</l></block></script></block><block s="doIf"><block s="reportKeyPressed"><l><option>down arrow</option></l></block><script><block s="doChangeVar"><l>left</l><l>-1</l></block><block s="doChangeVar"><l>right</l><l>-1</l></block></script></block><block s="doIf"><block s="reportKeyPressed"><l><option>left arrow</option></l></block><script><block s="doChangeVar"><l>left</l><l>-0.2</l></block><block s="doChangeVar"><l>right</l><l>0.2</l></block></script></block><block s="doIf"><block s="reportKeyPressed"><l><option>right arrow</option></l></block><script><block s="doChangeVar"><l>right</l><l>-0.2</l></block><block s="doChangeVar"><l>left</l><l>0.2</l></block></script></block><block s="doSetVar"><l>left</l><block s="reportVariadicMax"><list><block s="reportVariadicMin"><list><l>1</l><block var="left"/></list></block><l>-1</l></list></block></block><block s="doSetVar"><l>right</l><block s="reportVariadicMax"><list><block s="reportVariadicMin"><list><l>1</l><block var="right"/></list></block><l>-1</l></list></block></block><custom-block s="%s set motors %n %n"><block var="jetbot"/><block var="left"/><block var="right"/></custom-block><block s="doWait"><l>0.1</l></block></script></block></script></block-definition></blocks>